___INFO___

{
  "displayName": "Yandex Metrica",
  "description": "Yandex Metrica Custom Template",
  "author_twitter": "@thyng",
  "author_contact": "hola@thyngster.com",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "macrosInSelect": false,
    "selectItems": [
      {
        "displayValue": "Init",
        "value": "init"
      },
      {
        "displayValue": "Outbound Link",
        "value": "extLink"
      },
      {
        "displayValue": "File Download",
        "value": "file"
      },
      {
        "displayValue": "Reach Goal",
        "value": "reachGoal"
      },
      {
        "displayValue": "Hit",
        "value": "hit"
      },
      {
        "displayValue": "Session Parameters",
        "value": "params"
      },
      {
        "displayValue": "User Parameters",
        "value": "userParams"
      },
      {
        "displayValue": "User ID",
        "value": "setUserID"
      },
      {
        "displayValue": "notBounce",
        "value": "notBounce"
      }
    ],
    "displayName": "Method",
    "simpleValueType": true,
    "name": "method",
    "type": "SELECT"
  },
  {
    "alwaysInSummary": false,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ],
    "displayName": "Account ID",
    "simpleValueType": true,
    "name": "account_id",
    "type": "TEXT"
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "reachGoal"
      }
    ],
    "displayName": "",
    "name": "reachGoal_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "Goal Tracking Parameters",
        "name": "Goal Tracking Parameters",
        "type": "LABEL"
      },
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "Goal Target Name",
        "simpleValueType": true,
        "name": "reachGoal_target",
        "type": "TEXT"
      },
      {
        "valueValidators": [],
        "displayName": "Goal Order Price",
        "simpleValueType": true,
        "name": "reachGoal_order_price",
        "type": "TEXT"
      },
      {
        "macrosInSelect": true,
        "selectItems": [
          {
            "displayValue": "EUR",
            "value": "EUR"
          },
          {
            "displayValue": "USD",
            "value": "USD"
          },
          {
            "displayValue": "RUB",
            "value": "RUB"
          },
          {
            "displayValue": "YND",
            "value": "YND"
          }
        ],
        "displayName": "Goal Currency",
        "simpleValueType": true,
        "name": "reachGoal_currency",
        "type": "SELECT"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "extLink"
      }
    ],
    "displayName": "",
    "name": "extLink_method_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "Links Tracking Parameters",
        "name": "Links Tracking Parameters",
        "type": "LABEL"
      },
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "Link URL",
        "simpleValueType": true,
        "name": "extLink_url",
        "type": "TEXT"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "file"
      }
    ],
    "displayName": "",
    "name": "file_method_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "File Tracking Parameters",
        "name": "File Tracking Parameters",
        "type": "LABEL"
      },
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "File URL",
        "simpleValueType": true,
        "name": "file_url",
        "type": "TEXT"
      },
      {
        "displayName": "File Referrer",
        "simpleValueType": true,
        "name": "file_referrer",
        "type": "TEXT"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "notBounce"
      }
    ],
    "displayName": "",
    "name": "notBounce_method_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "This method doesn't require further configurations",
        "name": "notBounce_text",
        "type": "LABEL"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "hit"
      }
    ],
    "displayName": "",
    "name": "hit_method_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "File Tracking Parameters",
        "name": "HitTracking Parameters",
        "type": "LABEL"
      },
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "File URL",
        "simpleValueType": true,
        "name": "hit_url",
        "type": "TEXT"
      },
      {
        "displayName": "Referrer",
        "simpleValueType": true,
        "name": "hit_referrer",
        "type": "TEXT"
      },
      {
        "displayName": "Title",
        "simpleValueType": true,
        "name": "hit_title",
        "type": "TEXT"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "init"
      }
    ],
    "displayName": "Tracker Options",
    "name": "init_options",
    "groupStyle": "NO_ZIPPY",
    "type": "GROUP",
    "subParams": [
      {
        "help": "Whether to disable automatically sending data during tag initialization. This is useful when working with SPA pages.",
        "simpleValueType": true,
        "name": "defer",
        "checkboxText": "Disable default Data Sending",
        "type": "CHECKBOX"
      },
      {
        "help": "Hash tracking in the browser address bar",
        "simpleValueType": true,
        "name": "trackHash",
        "checkboxText": "Enable HashTracking",
        "type": "CHECKBOX"
      },
      {
        "help": "Prohibits sending information about the page's existence to Yandex search robots.  Using this parameter doesn't guarantee that the page won't be indexed. A robot can get information about a page's existence from other sources.",
        "simpleValueType": true,
        "name": "ut",
        "checkboxText": "Send Page To Yandex Index",
        "type": "CHECKBOX"
      },
      {
        "help": "Allows you to correctly register sessions from regions in which access to Yandex resources is restricted. Using this option may affect the loading speed of the code snippet.",
        "simpleValueType": true,
        "name": "alternative_cdn",
        "checkboxText": "Alternative CDN",
        "type": "CHECKBOX"
      },
      {
        "help": "The following section allows you to setup the tracker initialization parameters.",
        "displayName": "Options",
        "name": "Initialization Options",
        "groupStyle": "NO_ZIPPY",
        "type": "GROUP",
        "subParams": [
          {
            "displayName": "Tracking Features",
            "name": "Tracking Features",
            "groupStyle": "ZIPPY_CLOSED",
            "type": "GROUP",
            "subParams": [
              {
                "help": "Accurate bounce rate The parameter can accept these values:  <br />true — Enable the accurate bounce rate, with a non-bounce event registered after 15000 ms (15 s). false — Do not enable the accurate bounce rate. <N> (integer) — Enable the accurate bounce rate, with a non-bounce event registered after <N> ms. <a href=\"https://yandex.com/support/metrica/code/counter-initialize.html\">Read More</a>",
                "macrosInSelect": true,
                "selectItems": [
                  {
                    "displayValue": "False",
                    "value": false
                  },
                  {
                    "displayValue": "True",
                    "value": true
                  }
                ],
                "displayName": "Accurate Track Bounce",
                "defaultValue": false,
                "simpleValueType": true,
                "name": "accurateTrackBounce",
                "type": "SELECT"
              },
              {
                "help": "Whether to collect data for a click map\n<a href=\"https://yandex.com/support/metrica/code/counter-initialize.html\">Read More</a>",
                "macrosInSelect": false,
                "selectItems": [
                  {
                    "displayValue": "False",
                    "value": false
                  },
                  {
                    "displayValue": "True",
                    "value": true
                  }
                ],
                "displayName": "Click Map",
                "defaultValue": false,
                "simpleValueType": true,
                "name": "clickmap",
                "type": "SELECT"
              },
              {
                "help": "Track clicks on outbound links. \n<a href=\"https://yandex.com/support/metrica/code/counter-initialize.html\">Read More</a>",
                "macrosInSelect": false,
                "selectItems": [
                  {
                    "displayValue": "False",
                    "value": false
                  },
                  {
                    "displayValue": "True",
                    "value": true
                  }
                ],
                "displayName": "Track Links",
                "defaultValue": false,
                "simpleValueType": true,
                "name": "trackLinks",
                "type": "SELECT"
              },
              {
                "help": "List of file extensions to be tracked separated by commas. ( <a href=\"https://yandex.com/support/metrica/objects/addfileextension.html#addfileextension__extensions\">More Info</a> )",
                "enablingConditions": [
                  {
                    "paramName": "trackLinks",
                    "type": "EQUALS",
                    "paramValue": true
                  }
                ],
                "valueValidators": [
                  {
                    "type": "NON_EMPTY"
                  }
                ],
                "displayName": "Supported File Extensions",
                "simpleValueType": true,
                "name": "addFileExtension",
                "type": "TEXT"
              },
              {
                "help": "Whether to use Session Replay. \n<a href=\"https://yandex.com/support/metrica/code/counter-initialize.html\">Read More</a>",
                "selectItems": [
                  {
                    "displayValue": "False",
                    "value": false
                  },
                  {
                    "displayValue": "True",
                    "value": true
                  }
                ],
                "displayName": "Webvisor",
                "defaultValue": false,
                "simpleValueType": true,
                "name": "webvisor",
                "type": "SELECT"
              },
              {
                "type": "SELECT",
                "name": "triggerEvent",
                "displayName": "Trigger Event",
                "macrosInSelect": false,
                "selectItems": [
                  {
                    "value": false,
                    "displayValue": "No"
                  },
                  {
                    "value": true,
                    "displayValue": "Yes"
                  }
                ],
                "simpleValueType": true,
                "help": "This will fire an event with the name: \"yacounter\" + counterID + \"inited\""
              }
            ]
          }
        ]
      },
      {
        "displayName": "More Options",
        "name": "More Options",
        "groupStyle": "ZIPPY_CLOSED",
        "type": "GROUP",
        "subParams": [
          {
            "macrosInSelect": false,
            "selectItems": [
              {
                "displayValue": "No",
                "value": false
              },
              {
                "displayValue": "Yes",
                "value": true
              }
            ],
            "displayName": "Enable Debug",
            "defaultValue": false,
            "simpleValueType": true,
            "name": "debug",
            "type": "SELECT"
          },
          {
            "enablingConditions": [
              {
                "paramName": "method",
                "type": "EQUALS",
                "paramValue": "init"
              }
            ],
            "displayName": "Ecommerce",
            "name": "ecommerce",
            "groupStyle": "NO_ZIPPY",
            "type": "GROUP",
            "subParams": [
              {
                "simpleValueType": true,
                "name": "ecommerce_enabled",
                "checkboxText": "Enabled",
                "type": "CHECKBOX"
              },
              {
                "enablingConditions": [
                  {
                    "paramName": "ecommerce_enabled",
                    "type": "EQUALS",
                    "paramValue": true
                  }
                ],
                "displayName": "data layer name",
                "defaultValue": "dataLayer",
                "simpleValueType": true,
                "name": "ecommerce_datalayer_name",
                "type": "TEXT"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "params"
      }
    ],
    "displayName": "Session Parameters",
    "name": "params_options",
    "groupStyle": "ZIPPY_OPEN",
    "type": "GROUP",
    "subParams": [
      {
        "notSetText": "This method needs to have at least 1 parameter to work",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "",
        "name": "session_params_list",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Session Parameter Key",
            "name": "session_params_key",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Session Parameter Value",
            "name": "session_params_value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add New Session Parameter"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "userParams"
      }
    ],
    "displayName": "User Parameters",
    "name": "userParams_options",
    "groupStyle": "ZIPPY_OPEN",
    "type": "GROUP",
    "subParams": [
      {
        "notSetText": "This method needs to have at least 1 parameter to work",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "",
        "name": "user_params_list",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "User Parameter Key",
            "name": "user_params_key",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "User Parameter Value",
            "name": "user_params_value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add New User Parameter"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "setUserID"
      }
    ],
    "displayName": "user ID Tracking Parameters",
    "name": "setUserID_options",
    "groupStyle": "ZIPPY_OPEN",
    "type": "GROUP",
    "subParams": [
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "displayName": "user ID",
        "simpleValueType": true,
        "name": "setUserID",
        "type": "TEXT"
      }
    ]
  },
  {
    "enablingConditions": [
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "hit"
      },
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "extLink"
      },
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "file"
      },
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "notBounce"
      },
      {
        "paramName": "method",
        "type": "EQUALS",
        "paramValue": "reachGoal"
      }
    ],
    "displayName": "Hit Callback",
    "simpleValueType": true,
    "name": "hit_callback",
    "type": "TEXT"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://mc.yandex.ru/metrika/tag.js"
              },
              {
                "type": 1,
                "string": "https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ym"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ym.a"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_ym_debug"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "/"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Yandex Metrica Custom Template
// David Vallejo ( 2019-06-14 )

// Load Needed Libraries
// Logging Library
const log = require('logToConsole');
// Library to inject JS files into the page
const injectScript = require('injectScript');
// Library to create an array variable
const createQueue = require('createQueue');
// Library to set cookies
const setCookie = require('setCookie');
// Library to create a window. available arguments queue
const createArgumentsQueue = require('createArgumentsQueue');
// Library to convert tables to maps
const makeTableMap = require('makeTableMap');

// Hold Main Params
let params = {};

// Create global object queue
const ym = createArgumentsQueue('ym', 'ym.a');
// Grab hit type
const track_type = data.method;

// Build Up Sessions Parameters list
const session_params_list = data.session_params_list ? makeTableMap(data.session_params_list, 'session_params_key', 'session_params_value') : {};
const user_params_list = data.user_params_list ? makeTableMap(data.user_params_list, 'user_params_key', 'user_params_value') : {};

switch (track_type) {
    case 'init':
        // Debug Enabler/Disabler
        if (data.debug) {
            setCookie('_ym_debug', '1', {
                domain: 'auto',
                path: '/'
            });
        } else {
            setCookie('_ym_debug', '0', {
                domain: 'auto',
                path: '/',
                expires: 'Thu, 01 Jan 1970 00:00:01 GMT'
            });
        }

        // The following two lines take care of loading Yandex Tracking JS Library
        let yandex_js_api_lib = 'https://mc.yandex.ru/metrika/tag.js';
        if (data.alternative_cdn === true) yandex_js_api_lib = 'https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js';
        injectScript(yandex_js_api_lib, data.gtmOnSuccess, data.gtmOnFailure, yandex_js_api_lib);

        // All is initialized, now we'll be reading the configuration values from the tag setup
        // and pushing it back to Yandex Metrica Object    
        ym(data.account_id, 'init', {
            clickmap: data.clickmap,
            webvisor: data.webvisor,
            accurateTrackBounce: data.accurateTrackBounce,
            trackLinks: data.trackLinks,
            ut: data.ut,
            defer: data.defer,
            triggerEvent: data.triggerEvent,
            ecommerce: (data.ecommerce_enabled) ? data.ecommerce_datalayer_name : undefined
        });

        if (data.trackLinks === true && data.addFileExtension !== undefined) {
            data.addFileExtension = data.addFileExtension.split(',');
            if (data.addFileExtension.length === 1) data.addFileExtension = data.addFileExtension[0];
        }
        break;
        // Goals Tracking Method Setup    
    case 'reachGoal':
        if (data.reachGoal_order_price) params.order_price = data.reachGoal_order_price;
        if (data.reachGoal_currency) params.currency = data.reachGoal_currency;
	    if (data.hit_callback)
			ym(data.account_id, 'reachGoal', data.reachGoal_target, params, data.hit_callback);
    	else
            ym(data.account_id, 'reachGoal', data.reachGoal_target, params);
        break;
        // Links Tracking Method Setup
    case 'extLink':
        if (data.extLink_title) params.title = data.extLink_title;
        if (data.hit_callback) params.callback = data.hit_callback;
        ym(data.account_id, 'extLink', data.extLink_url, params);
        break;
        // Files Tracking Method Setup    
    case 'file':
        if (data.file_referrer) params.title = data.file_referrer;
        if (data.hit_callback) params.callback = data.hit_callback;
        ym(data.account_id, 'file', data.file_url, params);
        break;
        // Hits Tracking Method Setup    
    case 'hit':
        if (data.hit_title) params.title = data.hit_title;
        if (data.hit_referrer) params.referrer = data.hit_referrer;
        if (data.hit_callback) params.callback = data.hit_callback;
        ym(data.account_id, 'hit', data.hit_url, params);
        break;
        // Session Parameters Tracking Method Setup    
    case 'params':
        ym(data.account_id, 'params', session_params_list);
        break;
        // User Parameters Tracking Method Setup  
    case 'userParams':
        ym(data.account_id, 'userParams', user_params_list);
        break;
        // User ID Tracking Method Setup  
    case 'setUserID':
        if (data.setUserID) ym(data.account_id, 'setUserID', data.setUserID);
        break;
        // Not Bounce Tracking Method Setup    
    case 'notBounce':
        if (data.hit_callback) params.callback = data.hit_callback;
        ym(data.account_id, 'notBounce', params);
        break;
    default:
        break;
}


___NOTES___
Created on 19/6/2019 22:53:03